<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="pt-BR">
<head th:replace="fragments/menu :: imports">
	<meta charset="utf-8"/>
	<title>Petfy - Proprietário</title>
	
</head>
<body>
	<nav class="navbar-fixed" th:replace="fragments/menu :: menu"></nav>
  
	<div class="container">
      <div class="row">
        <div class="col s12">
          <div class="card">
            <div class="card-content">
              <span class="card-title" th:text="${proprietario.nome}"></span>
				<table>
					<thead>
						<tr>
							<th data-field="estabelecimento">Estabelecimento</th>
							<th data-field="endereco">Endereço</th>
							<th data-field="localizacao">Localização</th>
							<th data-field="status">Status</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="est: ${estabelecimentos}">
							<td><a th:text="${est.nome}" th:href="@{/admin/estabelecimento/} + ${est.id}"></a></td>
							<td th:text="${est.endereco} + ', ' + ${est.bairro} + ', ' + ${est.cidade} + '-' + ${est.estado}"></td>
							<td th:text="${est.latitude} + ' | ' + ${est.longitude}"></td>
							<td th:text="${est.habilitado}"></td>
						</tr>
					</tbody>
				</table>
			</div>
          </div>
        </div>
       </div>
       
       <div class="row">
	       <div class="col s12">
	        	<div class="card">
	        		<div class="card-content">
	        			<span class="card-title">Novo Estabelecimento</span>
	        			
	        			<!-- Formulário de cadastro de proprietário -->
						<form action="#" th:action="@{/admin/proprietario/estabelecimento/cadastrar}" th:object="${estabelecimento}" method="post">
							<input type="hidden" name="id-prop" th:value="${proprietario.id}"/>
							<div class="row">
								<div class="input-field col s6">
									<input id="nome" type="text" class="validate" th:field="*{nome}" required="required"/>
									<label for="nome">Nome</label>
								</div>
								<div class="input-field col s6">
									<input id="endereco" type="text" class="validate" th:field="*{endereco}" required="required"/>
									<label for="endereco">Endereço</label>
								</div>
							</div>
							<div class="row">
								<div class="input-field col s5">
									<input id="bairro" type="text" class="validate" th:field="*{bairro}" required="required"/>
									<label for="bairro">Bairro</label>
								</div>
								<div class="input-field col s5">
									<input id="cidade" type="text" class="validate" th:field="*{cidade}" required="required"/>
									<label for="cidade">Cidade</label>
								</div>
								<div class="input-field col s2">
									<input id="estado" type="text" class="validate" th:field="*{estado}" required="required"/>
									<label for="estado">Estado</label>
								</div>
							</div>
							<div class="row">
								<div class="input-field col s6">
									<input id="latitude" type="text" class="validate" th:field="*{latitude}" required="required"/>
									<label for="latitude">Latitude</label>
								</div>
								<div class="input-field col s6">
									<input id="longitude" type="text" class="validate" th:field="*{longitude}" required="required"/>
									<label for="longitude">Longitude</label>
								</div>
							</div>
							<div class="row">
								<div class="input-field right">
									<button class="btn waves-effect waves-light" type="submit" name="action">Salvar</button>
								</div>
							</div>
						</form>
	        		</div>
	        	</div>
        	</div>
      	</div>
	</div> <!-- /container -->
	
	<footer>
		<!-- BEGIN JAVASCRIPT -->
		<script th:src="@{/public-resources/js/jquery-3.1.0.min.js}"></script>
		<script th:src="@{/public-resources/js/materialize.min.js}"></script>
		<!-- END JAVASCRIPT -->
	</footer>
</body>
</html>